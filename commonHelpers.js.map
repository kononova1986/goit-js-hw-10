{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nlet userSelectedDate = null;\nlet todayDate;\nconst inputElement = document.getElementById('datetime-picker');\nconst buttonElement = document.querySelector('button[data-start]');\nconst daysElement = document.querySelector('[data-days]');\nconst hoursElement = document.querySelector('[data-hours]');\nconst minutesElement = document.querySelector('[data-minutes]');\nconst secondsElement = document.querySelector('[data-seconds]');\nbuttonElement.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose: function(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate < options.defaultDate) {\n            iziToast.error({\n                message: 'âŒ Please choose a date in the future',\n                icon: '',\n                backgroundColor: '#EF4040',\n                position: 'topRight',\n                progressBarColor: '#B51B1B',\n                messageColor: 'white',\n                close: false,\n            });\n            buttonElement.disabled = true;\n            \n        } else {\n            buttonElement.disabled = false;\n        }\n    },\n};\nflatpickr(\"#datetime-picker\", options);\n\nfunction  convertMs(ms) {\n    const second = 1000 ;\n    const minute = second * 60 ;\n    const hour = minute * 60 ;\n    const day = hour * 24 ;\n    const days = Math.floor (ms/ day);\n    const hours = Math.floor ((ms % day )/hour);\n    const minutes = Math.floor (((ms % day ) % hour )/minute);\n    const seconds = Math.floor ((((ms % day ) % hour )% minute )/second);\n\n    return { days, hours, minutes, seconds };\n}\nfunction pad(value) {\n    return String(value).padStart(2, '0');\n}\n\nbuttonElement.addEventListener('click', () => {\n    let intervalId = setInterval(() => {\n        todayDate = new Date();\n        const ms = userSelectedDate.getTime() - todayDate.getTime();\n        if (ms <= 0) {\n            clearInterval(intervalId);\n            inputElement.disabled = false;\n            return;\n        }\n        const { days, hours, minutes, seconds } = convertMs(ms);\n        daysElement.textContent = pad(days);\n        hoursElement.textContent = pad(hours);\n        minutesElement.textContent = pad(minutes);\n        secondsElement.textContent = pad(seconds);\n    },1000);\n    buttonElement.disabled = true;\n    inputElement.disabled = true;\n});\n\n"],"names":["userSelectedDate","todayDate","inputElement","buttonElement","daysElement","hoursElement","minutesElement","secondsElement","options","selectedDates","iziToast","flatpickr","convertMs","ms","days","hours","minutes","seconds","pad","value","intervalId"],"mappings":"2GAOA,IAAIA,EAAmB,KACnBC,EACJ,MAAMC,EAAe,SAAS,eAAe,iBAAiB,EACxDC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAC9DJ,EAAc,SAAW,GAEzB,MAAMK,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAS,SAASC,EAAe,CAC7BT,EAAmBS,EAAc,CAAC,EAC9BT,EAAmBQ,EAAQ,aAC3BE,EAAS,MAAM,CACX,QAAS,uCACT,KAAM,GACN,gBAAiB,UACjB,SAAU,WACV,iBAAkB,UAClB,aAAc,QACd,MAAO,EACvB,CAAa,EACDP,EAAc,SAAW,IAGzBA,EAAc,SAAW,EAEhC,CACL,EACAQ,EAAU,mBAAoBH,CAAO,EAErC,SAAUI,EAAUC,EAAI,CAKpB,MAAMC,EAAO,KAAK,MAAOD,EAAI,KAAG,EAC1BE,EAAQ,KAAK,MAAQF,EAAK,MAAM,IAAI,EACpCG,EAAU,KAAK,MAASH,EAAK,MAAQ,KAAO,GAAM,EAClDI,EAAU,KAAK,MAAUJ,EAAK,MAAQ,KAAQ,IAAS,GAAM,EAEnE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CACA,SAASC,EAAIC,EAAO,CAChB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEAhB,EAAc,iBAAiB,QAAS,IAAM,CAC1C,IAAIiB,EAAa,YAAY,IAAM,CAC/BnB,EAAY,IAAI,KAChB,MAAMY,EAAKb,EAAiB,QAAS,EAAGC,EAAU,QAAO,EACzD,GAAIY,GAAM,EAAG,CACT,cAAcO,CAAU,EACxBlB,EAAa,SAAW,GACxB,MACH,CACD,KAAM,CAAE,KAAAY,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUC,CAAE,EACtDT,EAAY,YAAcc,EAAIJ,CAAI,EAClCT,EAAa,YAAca,EAAIH,CAAK,EACpCT,EAAe,YAAcY,EAAIF,CAAO,EACxCT,EAAe,YAAcW,EAAID,CAAO,CAC3C,EAAC,GAAI,EACNd,EAAc,SAAW,GACzBD,EAAa,SAAW,EAC5B,CAAC"}